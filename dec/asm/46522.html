<!DOCTYPE html>
<html>
<head>
<title>180: Routine at 46522</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="46502.html">46502</a>
</td>
<td class="up">Up: <a href="../maps/all.html#46522">Map</a></td>
<td class="next">
Next: <a href="46656.html">46656</a>
</td>
</tr>
</table>
<div class="description">46522: Quarter Finals</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="43530.html">43530</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">QuarterFinals</td>
<td class="address-2"><span id="46522"></span>46522</td>
<td class="instruction">LD HL,(39713)</td>
<td class="comment-1" rowspan="4">Copy <span class="register">BC</span> 0016 bytes of data from *<a href="39713.html">QuarterFinals_OpponentData</a> to *<a href="45419.html#45433">Messaging_OpponentName_Wins</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46525"></span>46525</td>
<td class="instruction">LD DE,45433</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46528"></span>46528</td>
<td class="instruction">LD BC,16</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46531"></span>46531</td>
<td class="instruction">LDIR</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46533"></span>46533</td>
<td class="instruction">LD HL,(39713)</td>
<td class="comment-1" rowspan="4">Copy <span class="register">BC</span> 0016 bytes of data from *<a href="39713.html">QuarterFinals_OpponentData</a> to *<a href="46522.html#46597">QuarterFinals_OpponentName</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46536"></span>46536</td>
<td class="instruction">LD DE,46597</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46539"></span>46539</td>
<td class="instruction">LD BC,16</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46542"></span>46542</td>
<td class="instruction">LDIR</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46544"></span>46544</td>
<td class="instruction">CALL <a href="46408.html">Print_MatchCard</a></td>
<td class="comment-1" rowspan="1">Call <a href="46408.html">Print_MatchCard</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46547"></span>46547</td>
<td class="instruction">CALL <a href="38476.html">PrintString_Loop</a></td>
<td class="comment-1" rowspan="1">Call <a href="38476.html">PrintString_Loop</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46550"></span>46550</td>
<td class="instruction">DEFB 16,7</td>
<td class="comment-1" rowspan="1">INK: 


WHITE.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46552"></span>46552</td>
<td class="instruction">DEFB 17,4</td>
<td class="comment-1" rowspan="1">PAPER: 


GREEN.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46554"></span>46554</td>
<td class="instruction">DEFB 18,1</td>
<td class="comment-1" rowspan="1">FLASH: ON.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46556"></span>46556</td>
<td class="instruction">DEFB 22,5,12</td>
<td class="comment-1" rowspan="1">PRINT AT: 5, 12.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46559"></span>46559</td>
<td class="instruction">DEFM "QUARTER  FINALS"</td>
<td class="comment-1" rowspan="1"><img alt="quarter-finals" src="../../images/font/quarter-finals.png" /></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46574"></span>46574</td>
<td class="instruction">DEFB 22,8,13</td>
<td class="comment-1" rowspan="1">PRINT AT: 8, 13.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46577"></span>46577</td>
<td class="instruction">DEFB 16,0</td>
<td class="comment-1" rowspan="1">INK: 


BLACK.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46579"></span>46579</td>
<td class="instruction">DEFM "YOUR OPPONENT"</td>
<td class="comment-1" rowspan="1"><img alt="your-opponent" src="../../images/font/your-opponent.png" /></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46592"></span>46592</td>
<td class="instruction">DEFB 22,18,12</td>
<td class="comment-1" rowspan="1">PRINT AT: 18, 12.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46595"></span>46595</td>
<td class="instruction">DEFB 16,7</td>
<td class="comment-1" rowspan="1">INK: 


WHITE.</td>
</tr>
<tr>
<td class="asm-label">QuarterFinals_OpponentName</td>
<td class="address-1"><span id="46597"></span>46597</td>
<td class="instruction">DEFM "0000000000000000"</td>
<td class="comment-1" rowspan="1">"0000000000000000".</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46613"></span>46613</td>
<td class="instruction">DEFB 255</td>
<td class="comment-1" rowspan="1">Terminator.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46614"></span>46614</td>
<td class="instruction">LD HL,(39713)</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=*<a href="39713.html">QuarterFinals_OpponentData</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46617"></span>46617</td>
<td class="instruction">LD DE,17</td>
<td class="comment-1" rowspan="2">Move the pointer by 0017 bytes...</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46620"></span>46620</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46621"></span>46621</td>
<td class="instruction">LD C,(HL)</td>
<td class="comment-1" rowspan="3">Load the opponents portrait graphic pointer into <span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46622"></span>46622</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46623"></span>46623</td>
<td class="instruction">LD B,(HL)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46624"></span>46624</td>
<td class="instruction">LD (39595),BC</td>
<td class="comment-1" rowspan="1">Write <span class="register">BC</span> to *<a href="39595.html">CurrentOpponent_Portrait</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46628"></span>46628</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="4">Load the opponents pub scene graphic pointer into <span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46629"></span>46629</td>
<td class="instruction">LD C,(HL)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46630"></span>46630</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46631"></span>46631</td>
<td class="instruction">LD B,(HL)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46632"></span>46632</td>
<td class="instruction">LD (39598),BC</td>
<td class="comment-1" rowspan="1">Write <span class="register">BC</span> to *<a href="39598.html">CurrentOpponent_PubScene</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="46636"></span>
<div class="comments">
<div class="paragraph">
Draw the opponent portrait to the screen.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46636"></span>46636</td>
<td class="instruction">LD BC,(39595)</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=*<a href="39595.html">CurrentOpponent_Portrait</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46640"></span>46640</td>
<td class="instruction">LD DE,2576</td>
<td class="comment-1" rowspan="1">Set the destination co-ordinates to: 10/ 16.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46643"></span>46643</td>
<td class="instruction">CALL <a href="46914.html">Draw_OpponentPortrait</a></td>
<td class="comment-1" rowspan="1">Call <a href="46914.html">Draw_OpponentPortrait</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46646"></span>46646</td>
<td class="instruction">LD A,4</td>
<td class="comment-1" rowspan="2">Write 4 to *<a href="39604.html">39604</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46648"></span>46648</td>
<td class="instruction">LD (39604),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46651"></span>46651</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=0.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46652"></span>46652</td>
<td class="instruction">CALL <a href="51947.html">51947</a></td>
<td class="comment-1" rowspan="1">Call <a href="51947.html">51947</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="46655"></span>46655</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="46502.html">46502</a>
</td>
<td class="up">Up: <a href="../maps/all.html#46522">Map</a></td>
<td class="next">
Next: <a href="46656.html">46656</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1986 Mastertronic &copy; 2024 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.4.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/180/">Source code</a>.</div>
<div><a href="asm/46522.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>